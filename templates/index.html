<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment Assistant</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="compact-container">
        <!-- Header -->
        <div class="compact-header">
            <img src="{{ url_for('static', filename='moodle-icon.png') }}" alt="Assignment Assistant" class="header-icon">
            <h1>Assignment Assistant</h1>
        </div>

        <!-- Quick Stats -->
        <div class="quick-stats">
            <div class="stat-item">
                <span class="stat-number" id="total-conversations">-</span>
                <span class="stat-label">Conversations</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="total-users">-</span>
                <span class="stat-label">Users</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="quiz-count">-</span>
                <span class="stat-label">Quiz Sessions</span>
            </div>
        </div>

        <!-- Main Chart -->
        <div class="main-chart">
            <div class="chart-header">
                <h3>Activity Overview</h3>
                <div class="chart-controls">
                    <select id="date-range" class="form-select form-select-sm">
                        <option value="7">Last 7 days</option>
                        <option value="30" selected>Last 30 days</option>
                        <option value="90">Last 90 days</option>
                    </select>
                    <select id="grouping" class="form-select form-select-sm">
                        <option value="days" selected>Days</option>
                        <option value="weeks">Weeks</option>
                        <option value="months">Months</option>
                    </select>
                </div>
            </div>
            <canvas id="mainChart"></canvas>
        </div>

        <!-- Course Stats -->
        <div class="course-stats">
            <h4>Courses</h4>
            <div class="course-list" id="course-list">
                <div class="loading">Loading...</div>
            </div>
        </div>

        <!-- Activity Breakdown -->
        <div class="activity-breakdown">
            <h4>Sessions by Activity</h4>
            <div class="activity-grid">
                <div class="activity-item">
                    <i class="fas fa-question-circle"></i>
                    <span class="activity-name">Quiz Me</span>
                    <span class="activity-count" id="quiz-display">0</span>
                </div>
                <div class="activity-item">
                    <i class="fas fa-clipboard-list"></i>
                    <span class="activity-name">Review Terms</span>
                    <span class="activity-count" id="review-count">0</span>
                </div>
                <div class="activity-item">
                    <i class="fas fa-lightbulb"></i>
                    <span class="activity-name">Key Takeaways</span>
                    <span class="activity-count" id="takeaway-count">0</span>
                </div>
                <div class="activity-item">
                    <i class="fas fa-compress-alt"></i>
                    <span class="activity-name">Simplify</span>
                    <span class="activity-count" id="simplify-count">0</span>
                </div>
                <div class="activity-item">
                    <i class="fas fa-book"></i>
                    <span class="activity-name">Study Hacks</span>
                    <span class="activity-count" id="study-count">0</span>
                </div>
                <div class="activity-item">
                    <i class="fas fa-rocket"></i>
                    <span class="activity-name">Motivate Me</span>
                    <span class="activity-count" id="motivate-count">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>